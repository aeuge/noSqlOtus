# CAP теорема

1. **Consistency** (*согласованность*) - на всех узлах одинаковые данные.
2. **Availability** (*доступность*) - любой работающий узел всегда
выполнит запрос и на чтение и на запись (без гарантии актуальных данных)
3. **Partition Tolerance** (*устойчивость к разделению сети*) - 
система продолжает работать, несмотря на
отсутствие связи между узлами
___
## Домашнее задание: 
> расписать к каким системам по CAP теореме относятся: MongoDB, MSSQL, Cassandra

---
### MongoDB

MongoDb - документоориентированная NoSql СУБД.
Кластер MongoDB состоит из двух типов реплик:
1. Primary - master нода, которая записывает все данные
2. Secondary - получают реплицированные данные из мастера

В случае сбоя master ноды, все запись данных прекращается, но чтение продолжает работать.
Пока master восстанавливается, пользователи получают ошибки записи данных.

```{r echo=TRUE}
Вывод:
MongoDB относится к CP, т.к. несмотря на сбой продолжает поддерживать консистентность данных и давать возможность читать данные пользователю.
```
___

###  Cassandra
Cassandra - колоночная NoSql СУБД. Кассандра состоит из узлов, каждый
узел может выполнять все операции с базой данных. Данные имеют коэффициент репликации,
согласно которому, данные будут реплицированы на нужное количество нод. В момент запроса
узел, на который пришел запрос, становится координатором, который отправляет запрос
всем узлам содержащим данные и отправляет резльтаты обратно координатору.

```{r echo=TRUE}
Вывод:
Cassandra относится к AP, т.к. любой узел всегда доступен на чтение и на запись.
Данные, которые получит пользователь, не всегда могут быть консистентными.
```
___
### MSSQL

MSSQL - строковая sql СУБД. MSSQL состоит из одного узла, следовательно данные всегда
консистентны. В случае если лидер отключается от кластера, происходит выбор нового лидера,
и система недоступна, значит **Partition Tolerance** точно отпадает. Данные всегда доступны
в случае работающего узла.

```{r echo=TRUE}
Вывод:
MSSQL относится к AC, т.к. данные всегда консистенты и узел, если он доступен, работает на чтение и на запись.
```
